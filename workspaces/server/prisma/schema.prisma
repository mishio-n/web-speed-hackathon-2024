generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "sqlite"
  url      = env("DATABASE_URL")
}

model author {
  id          String @id
  name        String
  description String
  image_id    String
  created_at  String
  updated_at  String

  image image  @relation(fields: [image_id], references: [id])

  book  book[]
}

model book {
  id          String @id
  description String
  name        String
  name_ruby   String
  image_id    String
  author_id   String
  release_id  String
  created_at  String
  updated_at  String

  image   image   @relation(fields: [image_id], references: [id])
  author  author  @relation(fields: [author_id], references: [id])
  release release @relation(fields: [release_id], references: [id])

  feature feature[]
  ranking ranking[]
  episode episode[]
}

model episode {
  id          String @id
  name        String
  name_ruby   String
  description String
  chapter     Int
  book_id     String
  image_id    String
  created_at  String
  updated_at  String

  book  book  @relation(fields: [book_id], references: [id])
  image image @relation(fields: [image_id], references: [id])

  episode_page episode_page[]
}

model episode_page {
  id         String @id
  page       Int
  episode_id String
  image_id   String
  created_at String
  updated_at String

  episode episode @relation(fields: [episode_id], references: [id])
  image   image   @relation(fields: [image_id], references: [id])
}

model feature {
  id         String @id
  book_id    String
  created_at String
  updated_at String

  book book @relation(fields: [book_id], references: [id])
}

model image {
  id         String @id
  alt        String
  created_at String
  updated_at String

  author       author[]
  book         book[]
  user         user[]
  episode_page episode_page[]
  episode      episode[]
}

model ranking {
  id         String @id
  rank       Int
  book_id    String
  created_at String
  updated_at String

  book book @relation(fields: [book_id], references: [id])
}

model release {
  id          String @id
  day_of_week String
  created_at  String
  updated_at  String

  book        book[]
}

model user {
  id          String @id
  description String
  email       String
  password    String
  image_id    String
  created_at  String
  updated_at  String

  image image @relation(fields: [image_id], references: [id])
}
